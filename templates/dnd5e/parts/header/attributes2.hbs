{{#if flags.editing}}
	{{> "modules/monsterblock/templates/dnd5e/parts/menuItem.hbs" item=menus.attributes}}
{{/if}}

<ul class="attributes">
	{{#if (or info.hasSaveProfs flags.show-not-prof flags.show-skill-save)}}
	<li class="monster-saves attribute">
		<span class="attribute-wrapper">
			{{> "modules/monsterblock/templates/dnd5e/parts/header/saves.hbs"}}
		</span>
	</li>
	{{/if}}
	{{#if (or info.hasSkills flags.show-not-prof flags.show-skill-save)}}
	<li class="monster-skills attribute">
		<span class="attribute-wrapper">
			{{> "modules/monsterblock/templates/dnd5e/parts/header/skills.hbs"}}
		</span>
	</li>
	{{/if}}

	{{! Damage & Condition Resistances & Immunities}}
		{{> "modules/monsterblock/templates/dnd5e/parts/header/damage.hbs"
			damage=data.traits.dv.selected
			label="DND5E.DamVuln" 
		}}

		{{> "modules/monsterblock/templates/dnd5e/parts/header/damage.hbs"
			damage=data.traits.dr.selected
			label="DND5E.DamRes" 
		}}

		{{> "modules/monsterblock/templates/dnd5e/parts/header/damage.hbs"
			damage=data.traits.di.selected
			label="DND5E.DamImm" 
		}}

		{{> "modules/monsterblock/templates/dnd5e/parts/header/damage.hbs"
			damage=data.traits.ci.selected
			label="DND5E.ConImm" 
		}}

	<li class="attribute">
		<span class="attribute-wrapper">
			<h4 class="attribute-name">{{localize "DND5E.Senses"}}</h4>
			{{#each senses as |sense|~}}
				<span class="editable-wrapper">
					{{~#if sense.value}}{{sense.label}} {{/if~}}
					<span class="attr-value" contenteditable="{{../flags.editing}}" placeholder="{{sense.label}}&nbsp;"
						data-field-key="{{sense.key}}" data-dtype="Number">
						{{~sense.value~}}
					</span>
					{{~#if sense.value}} {{sense.unit}}{{/if~}}
				</span>
				{{~#if sense.value}}{{localize "MOBLOKS5E.Comma"}} {{/if~}}
			{{~/each~}}
			<span class="editable-wrapper">{{~" "~}}
				<span class="attr-value" contenteditable="{{flags.editing}}" placeholder="{{specialSenses.special.label}}&nbsp;"
					data-field-key="{{specialSenses.special.key}}">
					{{~specialSenses.special.value~}}
				</span>{{~" "~}}
			</span>
			{{~#if specialSenses.special.value}}{{localize "MOBLOKS5E.Comma"}} {{/if~}}
			<span>
				{{~specialSenses.passivePerception~}}
			</span>
			<div class="hover-only select-field" data-select-key="data.attributes.senses.units"
				data-selected-value="{{data.attributes.senses.units}}">
				<label
					class="{{#if flags.editing}}select-label{{/if}}">{{ lookup config.movementUnits data.attributes.senses.units}}</label>{{~" "~}}
					{{#if flags.editing~}}
					<ul class="actor-size select-list">
						{{#each config.movementUnits as |label unit|}}
							{{#unless (eq unit ../data.attributes.senses.units)}}
								<li data-selection-value="{{unit}}">{{label}}</li>
							{{/unless}}
						{{~/each~}}
					</ul>
					{{~/if~}}
			</div>
		</span>
	</li>
	
	<li class="attribute">
		<span class="attribute-wrapper">
			<h4 class="attribute-name">{{localize "DND5E.Languages"}}</h4>
			<ul class="traits-list inline-list">
			{{#if (moblok-hascontents data.traits.languages.selected)}}
				{{#each data.traits.languages.selected as |v k|}}
					<li class="trait-value">{{v}}</li>
				{{/each}}
			{{else}}
				<li class="trait-value">&mdash;</li>
			{{/if}}
			</ul>
		</span>
	</li>
	
	<li class="attribute">
		<span class="attribute-wrapper">
			<h4 class="attribute-name">{{localize "MOBLOKS5E.Challenge"}}</h4>
			<span class="trait-value"
				placeholder="0"
				contenteditable="{{flags.editing}}"
				data-dtype="Number"
				data-field-key="data.details.cr"
				>{{labels.cr}}</span> <span>({{ localize "MOBLOKS5E.XPLabel" xp=data.details.xp.label }})</span>
		</span>
	</li>
</ul>